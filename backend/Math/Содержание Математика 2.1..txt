В представленном архиве содержаться основные компоненты цифровой модели блочно-комплексной насосной станции (БКНС), включающие смоделированные задвижки,трубы, маслосистемы и центробежные насосы, а также цифровая модель БКНС.Ниже приведено подробное описание каждого из классов и их функциональных возможностей:
	1)Задвижки;
	2)Трубы;
	3)Маслонасосы;
	4)Маслосистемы;
	5)Насосы;
	6)БКНС.
----------------------------------------------------------------
1)Модель задвижки с электроприводом (Класс Valve)

Назначение: Моделирует поведение задвижки с электроприводом в трубопроводной системе, включая плавное открытие/закрытие с временной задержкой.

Атрибуты:
        state (str): Текущее состояние задвижки:
            - "open" — полностью открыта,
            - "closed" — полностью закрыта,
            - "moving" — в процессе открытия/закрытия,
            - "stopped" — остановлена в промежуточном положении;
        current_position (float): Текущее положение задвижки (0.0 - закрыто, 100.0 - открыто);
        pressure (float): Давление на входе (бар или Па);
        temperature (float): Температура среды (°C);
        is_moving (bool): Флаг движения задвижки (True - в движении);
        move_delay (float): Общее время открытия/закрытия (по умолчанию 2 сек);
        target_position (float): Целевое положение задвижки;
        move_direction (int): Направление движения (1 - открытие, -1 - закрытие, 0 -нет движения).
   
Методы:
	control(signal) — управление задвижкой по сигналам "open", "close", "stop";
	update(dt) — обновление положения задвижки с учётом времени;
	update_conditions(pressure, temperature) — обновление параметров среды;
	_update_state(self) - вспомогательный метод для обновления атрибута state;
	status(self)-текущее состояние задвижки.

Особенности работы:
	-При команде "stop" задвижка останавливается в промежуточном положении;
	-Давление и температура сбрасываются при полном закрытии;
	-Плавное изменение положения реализовано с учётом временной задержки.

----------------------------------------------------------------
2)Модель трубопровода (Класс PipeModel)

Назначение: Моделирует состояние трубопро

Атрибуты:
	Геометрия трубы: 
		-L = 5.0 — длина (м)
		-S = 0.01 — площадь поперечного сечения (м^2)
		-D_h = 0.1128 — гидравлический диаметр (м);
	Параметры для расчёта потерь давления:
		-L_eq = 1.0 — эквивалентная длина местных сопротивлений (м)
		-r = 15e-6 — внутренняя шероховатость поверхности (м)
		-Re_lam = 2000 — верхняя граница числа Рейнольдса для ламинарного течения
		-Re_tur = 4000 — нижняя граница числа Рейнольдса для турбулентного течения
		-lambda_lam = 64 — константа трения для ламинарного потока (коэффициент трения Дарси);
	p_in/p_out — входное/выходное давление;
	T — температура в трубе

Методы:
	compute_reynolds(m_dot, mu, rho) — расчет числа Рейнольдса;
	compute_darcy_friction(Re) — расчет коэффициента трения Дарси;
	compute_pressure_loss(m_dot, mu, rho) — расчет потерь давления;
	compute_output_pressure(p_in, m_dot_A, m_dot_B, mu, rho, temperature) — расчет выходного давления с учетом потерь.

Особенности работы:
	-Потери давления рассчитываются отдельно для двух потоков (A и B);
	-Выходное давление корректируется с учетом температуры среды.

----------------------------------------------------------------
3)Модель отдельного маслонасоса (Класс OilPump)

Назначение: Моделирует работу одного маслонасоса (основного или резервного) в маслосистеме центробежного насоса.

Атрибуты:
	name — имя насоса (например, "main" или "reserve");
	nominal_flow — номинальный расход масла (л/мин);
	max_pressure — максимальное давление, которое может создать насос (бар);
	running — флаг состояния работы насоса (True — насос работает);
	pump_speed — относительная скорость работы насоса (от 0 до 1).

Методы:
	update(command_run, command_stop) — обновление состояния насоса в зависимости от команд запуска и остановк.

----------------------------------------------------------------
4)Модель маслосистемы (Класс OilSystem)

Назначение: Моделирует работу маслосистемы с двумя маслонасосами (основным и резервным), обеспечивающей подачу масла к насосам и подшипникам.

Атрибуты:
	pump_id — индекс;
	temp_limit — предельная температура масла (°C);
	temperature — температура масла (°C);
	viscosity — вязкость масла (сСт);
	ambient_temp — температура окружающей среды (°C);
	Маслонасосы:
		-main_pump = OilPump("main", nominal_flow = 20.0, max_pressure = 4.0) — основной ;
		-reserve_pump = OilPump("reserve", nominal_flow = 20.0, max_pressure = 4.0)
 — резервный;
	nominal_flow = 20.0 — номинальный расход (л/мин);
	max_pressure = 4.0 — максимальное давление (бар);
	Теплофизические свойства:
		-oil_mass = 15.0 — условная масса масла (кг);
		-oil_heat_capacity = 1.67 — теплоемкость масла (кДж/кг·К);
		-heat_transfer_coeff = 0.02 — коэффициент теплоотдачи;
		-nominal_viscosity = 46.0 — номинальная вязкость (сСт);
	running — флаг состояния маслонасосов;
	pressure_ok — флаг нормального давления;
	temp_ok — температура в норме;
	flow_rate — расход масла (л/мин);
	pressure — текущее давление (бар).

Методы:
	update(command_main_run, command_main_stop, command_reserve_run, command_reserve_stop, dt) — обновление состояния по командам и времени.
	start(), stop() — запуск и остановка маслосистемы.

Особенности работы:
	-Температура масла изменяется динамически с учетом нагрева от работы насосов и охлаждения окружающей средой;
	-Вязкость масла корректируется экспоненциально в зависимости от температуры.

----------------------------------------------------------------
5)Модель центробежного насоса (Класс CentrifugalPump)

Назначение: Моделирует работу центробежного насоса с учетом гидравлических характеристик, режимов работы и взаимодействия с маслосистемой.

Атрибуты:
	Параметры насоса (CentrifugalPump):
		name — имя насоса (например, "NA4", "NA2");
		bond_oil_system — ссылка на связанную маслосистему (объект класса OilSystem);
		p_in — входное давление в насосе (МПа);
		p_out — выходное давление из насоса (МПа);
		nominal_capacity — номинальная производительность насоса (м³/с);
		nominal_head — номинальный напор насоса, (м);
		nominal_brake_power — номинальная мощность торможения (кВт);
		max_head_zero_capacity — максимальный напор при нулевом расходе (м);
		max_capacity_zero_head — максимальный расход при нулевом напоре (м³/с);
		reference_shaft_speed — опорная угловая скорость вала (рад/с);
		min_shaft_speed_threshold — минимальный порог угловой скорости для работы (рад/с);
		impeller_diameter_scale — масштабный коэффициент диаметра рабочего колеса;
	Параметры электродвигателя насоса:
		nominal_current — номинальный ток двигателя (А);
		current_reduction_step — шаг уменьшения тока при остановке (А);
	Температурные параметры:
		ambient_temp — температура окружающей среды (°C);
		max_operating_temp — максимальная рабочая температура насоса (°C);
		temp_rise_rate — скорость роста температуры при работе (°C/сек);
		temp_cooling_rate — скорость охлаждения (°C/сек);
		temp_dry_run_rise_rate — скорость роста температуры при работе "всухую" (без подачи жидкости) (°C/сек);
		temp_closed_valve_rise_rate — скорость роста температуры при закрытой задвижке (°C/сек);
	Параметры колебаний :
		temp_fluctuation — амплитуда колебаний температуры (±°C);
		current_fluctuation — амплитуда колебаний тока (±А);
		pressure_fluctuation — амплитуда колебаний давления (±МПа);
		flow_fluctuation — амплитуда колебаний расхода (±м³/с);
	Текущие состояния:
		current_omega — текущая угловая скорость вала (рад/с);
		current_motor_i — текущий ток двигателя (А);
		na_on — флаг включения насоса;
		na_off — флаг выключения насоса;
		na_start — флаг команды запуска насоса;
		na_stop — флаг команды остановки насоса;
	Режимы работы насоса:
		OPERATION_MODE_NORMAL — штатный режим (0);
		OPERATION_MODE_INLET_CLOSED — закрыта входная задвижка;
		OPERATION_MODE_OUTLET_CLOSED — закрыта выходная задвижка;
		OPERATION_MODE_BOTH_CLOSED — обе задвижки закрыты;
		operation_mode — текущий режим работы (по умолчанию штатный);
		mode_change_time — время последней смены режима (с);
	Температуры подшипников и гидроподшипника:
		NA_AI_T_1_n — температура рабочего подшипника насоса (°C);
		NA_AI_T_2_n — температура полевого подшипника насоса (°C);
		NA_AI_T_3_n — температура рабочего подшипника двигателя (°C);
		NA_AI_T_4_n — температура полевого подшипника двигателя (°C);
		NA_AI_T_5_n — температура воды в гидропяте (°C);
	Параметры потока:
		NA_AI_Qmom_n — текущий расход жидкости через насос (м³/с);
	Константы и параметры моделирования:
		g — ускорение свободного падения (м/с²);
		time_constant — постоянная времени для экспоненциального изменения скорости (с);
		simulation_time — текущее время симуляции (с);
	Вычисляемые параметры:
		a, b, c — коэффициенты для аппроксимации кривой напора насоса (рассчитываются методом _calculate_head_curve_coeffs());
	Параметры для экспоненциального нарастания скорости:
		start_omega — начальная угловая скорость для расчёта нарастания;
		start_time — время начала нарастания скорости.

Методы:
	_calculate_head_curve_coeffs(self) — инициализация коэффициентов для работы насоса;
	reset_ramp(self) — сброс при отключении;
	calculate_omega(self, target_omega) — плавное повышение угловой скорости;
	apply_fluctuation(self, value, target_max, fluctuation_range) — добавление случайных колебаний, если значение близко к максимуму;
	calculate_head(q, omega), calculate_pressure_gain(q, rho) — расчеты гидравлических характеристик;
	calculate_current(self) — расчет тока насоса;
	update_temperatures() — обновление температур с учетом режима работы;
	detect_operation_mode(q, p_in, p_out) — определение текущего режима работы;
	control_pump(self) — работа насоса в связи с командами, подающимися на него;
	step(target_omega, q, rho, inlet, outlet) — основной шаг моделирования с обновлением параметров;
	get_operation_mode_name(self) — возвращает текстовое название текущего режима работы;
	get_status(self) — возвращает состояние насоса.

Особенности работы:
	-В разных режимах работы изменяются ток двигателя, давление и температуры:
		Штатный режим: нормальные значения параметров, ток и температура в пределах номинала;
		Закрыта входная задвижка: ток сначала снижается, затем увеличивается, температура растет быстрее;
		Закрыта выходная задвижка: ток увеличивается, давление на выходе растет, температура повышается;
		Обе задвижки закрыты: ток снижен, давление падает, температура повышается сильнее;
		Если отключается маслосистема, соотвественно давление становится ниже нормы, температура может превысить допустимую норму;
	-Добавляются случайные колебания (флуктуации) для имитации реального поведения.
----------------------------------------------------------------
6)Модель блочно-комплексной насосной станции (Класс BKNS)

Назначение: Моделирует работу установки, состоящей из двух насосов с соответствующими маслосистемами, задвижками и трубами.

Структура установки:
	2 центробежных насоса (NA4 и NA2), каждый с входной и выходной задвижкой;
	2 маслосистемы, по одной на каждый насос;
	4 задвижки (по две на каждый насос);
	6 труб: 2 входные, 2 выходные, 1 общая входная и 1 общая выходная.

Атрибуты:
	inlet_pressure — входное давление в общую входную трубу(МПа);
	inlet_temperature — температура жидкости на входе в систему (°C);
	oil_systems — список объектов маслосистем для каждого насоса:
		OilSystem(0) — маслосистема для насоса NA4;
		OilSystem(1) — маслосистема для насоса NA2;
	oil_pump_commands — список словарей с командами управления маслонасосами;
	pumps — список объектов насосов с привязкой к маслосистемам:
		CentrifugalPump(self.oil_systems, 'NA4') — насос NA4;
		CentrifugalPump(self.oil_systems[1], 'NA2') — насос NA2;
	valves — словарь задвижек для каждого насоса:
		'in_0' — входная задвижка насоса NA4;
		'out_0' — выходная задвижка насоса NA4;
		'in_1' — входная задвижка насоса NA2;
		'out_1' — выходная задвижка насоса NA2;
	pipes — словарь трубопроводов:
		'in_0' — входная труба насоса NA4;
		'out_0' — выходная труба насоса NA4;
		'in_1' — входная труба насоса NA2;
		'out_1' — выходная труба насоса NA2;
		'main_inlet' — общая входная труба;
		'main_outlet' — общая выходная труба;
	Параметры жидкости:
		rho — плотность жидкости, кг/м³ (1000 кг/м³, например, вода);
		mu — динамическая вязкость жидкости, Па·с (1e-3 Па·с);
		m_dot_A — массовый расход жидкости в первом потоке, кг/с (0.5 кг/с);
		m_dot_B — массовый расход жидкости во втором потоке, кг/с (0.5 кг/с);
	last_update_time — временная метка последнего обновления состояния системы.

Основные методы:
	update_system() — основной цикл обновления состояния всех компонентов системы с учетом времени.
	control_pump(pump_id, start) — управление запуском/остановкой насоса.
	control_oil_pump(pump_id, start) — управление запуском/остановкой маслонасоса.
	control_valve(valve_key, open_valve) — управление открытием/закрытием задвижки.
	get_status() — получение текущего состояния всей системы в виде структурированного словаря.

Особенности работы:
	-В цикле обновления происходит последовательное обновление состояния задвижек, труб, маслосистем и насосов;
	-Давления и температуры рассчитываются с учетом потерь в трубах и текущих режимов работы насосов и задвижек;
	-Управление насосами и маслонасосами осуществляется через отдельные команды, что позволяет моделировать различные сценарии работы.
	В системе реализована обработка различных режимов работы насосов, включая ситуации с закрытыми задвижками и отключенной маслосистемой.